<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Установка MAX</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="installer">
    <h1>Установка мессенджера MAX</h1>
    <p class="status" id="status">Подготовка к установке…</p>

    <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
    </div>

    <p class="percent" id="percent">0%</p>

    <button id="stopBtn">Остановить</button>
</div>

<audio id="sound" src="snd.mp3" preload="auto"></audio>

<script>
    const progressBar = document.getElementById("progressBar");
    const percentText = document.getElementById("percent");
    const statusText = document.getElementById("status");
    const stopBtn = document.getElementById("stopBtn");
    const sound = document.getElementById("sound");

    let progress = 0;
    const duration = 180000;
    const intervalTime = 100;
    const step = 100 / (duration / intervalTime);

    const interval = setInterval(() => {
        progress += step;
        if (progress >= 100) {
            progress = 100;
            clearInterval(interval);
            statusText.textContent = "Установка завершена";
            stopBtn.disabled = true;
        }

        progressBar.style.width = progress + "%";
        percentText.textContent = Math.floor(progress) + "%";

        if (progress > 30) statusText.textContent = "Загрузка компонентов…";
        if (progress > 60) statusText.textContent = "Установка модулей…";
        if (progress > 85) statusText.textContent = "Завершение установки…";

    }, intervalTime);

    stopBtn.addEventListener("click", () => {
        sound.currentTime = 0;
        sound.play().catch(() => {});
    });
</script>

</body>
</html>